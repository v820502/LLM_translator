function serviceHeader(){return new ServiceHeader(31,"DeepL","DeepL trains artificial intelligence to understand and translate texts."+Const.NL2+"https://www.deepl.com",Capability.TRANSLATE|Capability.DETECT_LANGUAGE)}function serviceHost(a,b,c){return"https://www2.deepl.com"}function serviceLink(a,b,c){return"https://www.deepl.com/translator"}
SupportedLanguages=[-1,"auto",-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,"NL","EN",-1,-1,-1,"FR",-1,"DE",-1,-1,-1,-1,-1,-1,-1,"IT",-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,"PL",-1,-1,-1,-1,-1,-1,"ES",-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];
function parseText(a){var b=/^\s+|(?:\s*\n)+\s*|\s+$/g,c=[],e,d=0,f;for((a=prepareSource(a))&&a.length>Const.MAX_QUERY_LEN&&(a=a.slice(0,Const.MAX_QUERY_LEN));null!==(e=b.exec(a));)d<e.index&&(f=a.substr(d,e.index-d),c.push({type:1,text:f}),d+=f.length),c.push({type:0,text:e[0]}),d+=e[0].length;d<a.length&&c.push({type:1,text:a.substr(d,a.length-d)});return c}function splitText(a){return parseText(a).filter(function(a){return 1===a.type}).map(function(a){return a.text.replace(/\s+/g," ")})}
function getSourceLanguage(a){return a&&a.result&&a.result.lang?languageFromCode(a.result.lang):UNKNOWN_LANGUAGE}function serviceDetectLanguageRequest(a){a={id:1,jsonrpc:"2.0",method:"LMT_split_into_sentences",params:{texts:splitText(a),lang:{lang_user_selected:"auto",user_preferred_langs:["EN"]}}};return new RequestData(HttpMethod.POST,"/jsonrpc",stringifyJSON(a))}function serviceDetectLanguageResponse(a){a=parseJSON(a);return getSourceLanguage(a)}
function serviceTranslateRequest(a,b,c){a=splitText(a);b=codeFromLanguage(b);c=codeFromLanguage(c);c={id:2,jsonrpc:"2.0",method:"LMT_handle_jobs",params:{jobs:a.map(function(a){return{kind:"default",raw_en_sentence:a}}),lang:{user_preferred_langs:[isLanguage(b)?b:"EN",c],source_lang_user_selected:b,target_lang:c},priority:1}};return new RequestData(HttpMethod.POST,"/jsonrpc",stringifyJSON(c))}
function serviceTranslateResponse(a,b,c,e){b=parseJSON(b);var d="";if(b&&b.result&&b.result.translations){var f=b.result.translations.map(function(a){return a.beams&&0<a.beams.length?a.beams[0].postprocessed_sentence:""});parseText(a).forEach(function(a){d=0===a.type?d+a.text:d+f.shift()})}return new ResponseData(d,c,e,"")};
